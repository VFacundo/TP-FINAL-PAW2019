<?php include('assets/template/baseHeadAdmin.html'); ?>
<head>
	<title>Panel administrador - Gestion de canchas</title>
      	<link rel="stylesheet" href="/assets/css/turnos.css">
          	<link rel="stylesheet" href="/assets/css/admin.css">
    	<script src="assets/js/admin.js"></script>
      <script>admin.init();</script>

</head>
<section class="sideSection">
  <h1>Gestion de canchas</h1>
	<div>
		<div class="lista7Col" id="gestioncanchas">
			<?php
				echo 	'<ul>
							<li>Nombre</li>
							<li>Direccion</li>
							<li>Telefono</li>
							<li>H. Apertura</li>
							<li>H. Cierre</li>
							<li>Duracion turno</li>
							<li></li>
						</ul>
						<ul>';
							if(isset($canchas)){
								foreach($canchas as $valor){
									echo '<li class="lista7Row">
											<ul>';
									echo '		<li>' . $valor['nombre'] .'</li>';
									echo '		<li>' . $valor['direccion'] .'</li>';
									echo '		<li>' . $valor['telefono'] . '</li>';
									echo '		<li>' . $valor['horaA'] . '</li>';
									echo '		<li>' . $valor['horaC'] . '</li>';
									echo '		<li>' . $valor['duracion'] . '</li>';
									echo '		<li> <button class="boton rechazar" onclick="eliminarCancha('. $valor['id'] .')" disabled>Eliminar</button> </li>';
									echo '		<input type="hidden" value="' . $valor['id'] . '">' ;
									echo '	</ul>
										</li>';
								}
							}
			?>
		</div>
	</div>
	<div id="registrar">
		<a onclick="admin.toggle();" class="boton" id="btnEditar">Agregar Cancha</a>
	</div>
</section>

<div class="ventana" id="nuevoTurno" style="display:none">
  <h5>Reservar turno</h5>
  <form name="turno" action="" onSubmit="admin.crearTurno(); return false">
    <div class="stepTab">
      <label>Nombre Cancha:
        <input type="text" name="nombre_cancha"required></input>
      </label>
      <div class="hint">
        <span>Ayuda: Canchas disponibles para solicitar turnos</span>
      </div>
    </div>
    <div class="stepTab">
      <label>Cancha:
        <select name="cancha_turno" onchange="admin.horariosDisponibles();" required></select>
      </label>
      <div class="hint">
        <span>Ayuda: Canchas disponibles para solicitar turnos</span>
      </div>
    </div>
    <div class="stepTab">
      <label>Fecha:
        <input type="date" name="fecha_turno" max="<?php echo date("Y") . '-12' . '-31' ;?>" min="<?php echo date("Y-m-d");?>" onchange="admin.horariosDisponibles();" required/>
      </label>
      <div class="hint">
        <span>Ayuda: Seleccione la fecha para reservar el turno</span>
      </div>
    </div>
    <div class="stepTab">
      <label>Horario:
        <select name="horario_turno" required></select>
      </label>
      <div class="hint">
        <span>Ayuda: Se muestran las horas disponibles para reservar un turno. Si no ve ninguna disponible significa que no hay turnos disponibles.</span>
      </div>
    </div>
    <div class="stepTab">
      <label>Resumen de turno:</label>
      <div id="resumenTurno">
        <span></span>
        <span></span>
        <span></span>
        <span> </span>
      </div>
      <div>
        <input class="boton" type="submit" name="confirmar" value="Confirmar Turno"></input>
      </div>
    </div>
    <div id="contenedorAtrasAdelante">
      <button class="boton" type="button" id="prevBtn" onclick="admin.nextPrevTab(-1)">Atras</button>
      <button class="boton" type="button" id="nextBtn" onclick="admin.nextPrevTab(1)">Siguiente</button>
    </div>
  </form>
  <div class="stepContenedor">
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
    <span class="step"></span>
  </div>
  <a class="boton cerrar" onclick="admin.toggle();"></a>
</div>

<?php include('assets/template/baseTailAdmin.html'); ?>
